{"version":3,"names":["Event","DownloadState","addDownloads","addEventListener","clearDownloads","getDownload","getDownloads","removeDownload","setDownloadHeaders","TrackPlayerDownloadManager","downloadChangeSubscriptions","Map","downloadsChangeSubscriptions","downloads","subscriptions","init","connect","load","destroy","forEach","sub","remove","push","DownloadChanged","id","state","updateDownload","catch","console","error","DownloadProgressChanged","contentLength","bytesDownloaded","percentDownloaded","updateDownloadProgress","get","Array","from","values","getCurrentDownloads","filter","d","Completed","Removing","delete","notifyDownloadsChange","download","set","notifyDownloadChange","clear","setHeaders","headers","requests","ids","subscribeDownloadsChanges","listen","unsubscribeDownloadsChanges","u","list","update","subscribeDownloadChange","array","unsubscribeDownloadChange","splice","indexOf","length","listeners"],"sourceRoot":"../../src","sources":["download.ts"],"mappings":"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","ignoreList":[]}
